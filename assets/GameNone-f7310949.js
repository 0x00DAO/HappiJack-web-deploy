import{u as k,l as E,m as G,n as d,G as H,o as i,p as u,q as w,s as t,S as r,C as W,R as I,t as x,B as m,v as F,w as l,I as h,x as N,y as R,z as C,A as V,D as j,F as z}from"./index-50cfc3e1.js";import{T as A}from"./ticket_nft-6fc753da.js";import{P as B,I as M}from"./information-741a0fdd.js";import{N as D}from"./nft_bottom-1b63c0d9.js";import{L as P}from"./LotteryCreateModal-4c2db7d3.js";import{c as b,s as _}from"./Loading-dfbbc092.js";import"./index-c97041cf.js";import"./closable-3c26f926.js";import"./TextArea-c1345024.js";import"./SearchOutlined-17957eab.js";function et(){const c=k(),v=E(),L=G(P),[e,f]=d.useState(new H),[g,T]=d.useState(!0),y=async()=>{i.instance.emit(C.event)},p=async(n,o,s)=>{const a=c.id;if(n!==a)return Promise.resolve();await l.instance.getAddress()===s&&(b(),V("Verify success"),console.log(o)),i.instance.emit(C.event)};d.useEffect(()=>{i.instance.on(u.event,p),i.instance.on(w.event,y);async function n(){const o=c.id,a=await(await l.instance.getContract(j.LotteryGameSystem)).getGame(o);f(a),T(!a.isWaitingReward)}return n(),()=>{i.instance.off(u.event,p),i.instance.off(w.event,y)}},[v.pathname]);const S=async()=>{const n=c.id,s=await(await l.instance.getContract(j.LotteryGameSystem)).getGame(n,!0);if(f(s),s.isWaitingVerify){_();try{await s.verify()}catch{b(),z("Verify failed")}}else L.show()};return t.jsx(t.Fragment,{children:t.jsxs(r,{direction:"vertical",style:{minHeight:`${W}`,width:"100%",display:"flex",justifyContent:"center"},children:[t.jsxs(I,{gutter:0,children:[t.jsx(x,{span:12,style:{width:"100%",paddingLeft:65},children:t.jsxs(r,{direction:"vertical",size:"small",children:[t.jsx("p",{style:{fontFamily:"Arimo Hebrew Subset",fontSize:70,fontWeight:700,width:970,height:160,background:"linear-gradient(270deg, #C879F9 0%, #6C7EFC 50%, #74F0B2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textAlign:"left",marginTop:30},children:"Congratulations the winners!"}),t.jsxs("p",{style:{fontSize:70,fontFamily:"Arimo Hebrew Subset",fontWeight:700,color:"white",width:1e3,textAlign:"left"},children:["Recent Jackpot: ",e.TotalAmount," ",e.tokenSymbol]}),t.jsx(r,{direction:"horizontal",size:"small",hidden:!e.hasHash,style:{marginTop:-50},children:t.jsxs(m,{type:"text",style:{display:"flex"},target:"_blank",href:`${F(l.instance.chainId)}/tx/${e.transactionHash}`,disabled:!e.hasHash,children:[t.jsxs("p",{style:{color:"#91a7be",fontSize:30,fontFamily:"Arimo Hebrew Subset",fontWeight:700,marginLeft:-10},children:["TX: ",e.shortHash]}),t.jsx("svg",{style:{marginTop:2,marginLeft:30,color:"#91a7be",fontSize:40,display:"none"},stroke:"currentColor",fill:"none",strokeWidth:"0",viewBox:"0 0 24 24",focusable:"false",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})}),t.jsx(x,{span:12,style:{width:"100%",position:"relative",display:"flex",justifyContent:"center"},children:t.jsxs("div",{style:{width:669,height:500,marginTop:-100},children:[t.jsx(h,{src:D,preview:!1,style:{position:"absolute",width:669}}),t.jsx(h,{src:A,style:{position:"absolute",width:375,transform:"rotate(-11.204deg)",top:130,left:200,cursor:"pointer"}})]})})]}),t.jsx("label",{style:{fontFamily:"Arimo Hebrew Subset",fontWeight:"bold",fontSize:30,color:"white",display:"flex",justifyContent:"center",marginTop:50,marginLeft:-100},children:"Begin crafting your own miracles!"}),t.jsxs(r,{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:50},children:[t.jsx(m,{onClick:S,className:"start-btn",style:{width:460,height:100,borderRadius:40,fontSize:40,fontWeight:700},children:e.isWaitingVerify&&!g?"Verify and Earn":"Create"}),t.jsx(B,{content:e.isWaitingVerify&&!g?N:R,title:"Rules",placement:"right",children:t.jsx(m,{style:{width:42,height:42,background:"transparent",border:"none",marginLeft:35},icon:t.jsx(h,{src:M,preview:!1,style:{width:42,height:42}}),type:"default"})})]})]})})}export{et as default};
