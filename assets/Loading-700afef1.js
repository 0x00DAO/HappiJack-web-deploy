import{n as l,ab as w,aN as se,B as L,aO as G,am as j,aw as ae,aP as Y,aQ as ce,U as _,F as N,$ as ie,a0 as ue,ay as S,a1 as fe,aR as de,av as me,aS as Ce,aT as ge,aU as be,aV as xe,aW as ve,aX as pe,aY as ye,o as B,S as Oe,aJ as he}from"./index-dec1d75b.js";import{u as U,D as Pe,P as ke}from"./EyeOutlined-3db36636.js";import{u as D}from"./index-a3cae8de.js";function Ee(){const[e,n]=l.useState([]),r=l.useCallback(t=>(n(o=>[].concat(w(o),[t])),()=>{n(o=>o.filter(u=>u!==t))}),[]);return[e,r]}function H(e){return!!(e&&e.then)}const Te=e=>{const{type:n,children:r,prefixCls:t,buttonProps:o,close:u,autoFocus:x,emitEvent:d,quitOnNullishReturnValue:i,actionFn:s}=e,a=l.useRef(!1),b=l.useRef(null),[m,c]=se(!1),g=function(){u==null||u.apply(void 0,arguments)};l.useEffect(()=>{let C=null;return x&&(C=setTimeout(()=>{var f;(f=b.current)===null||f===void 0||f.focus()})),()=>{C&&clearTimeout(C)}},[]);const y=C=>{H(C)&&(c(!0),C.then(function(){c(!1,!0),g.apply(void 0,arguments),a.current=!1},f=>(c(!1,!0),a.current=!1,Promise.reject(f))))},p=C=>{if(a.current)return;if(a.current=!0,!s){g();return}let f;if(d){if(f=s(C),i&&!H(f)){a.current=!1,g(C);return}}else if(s.length)f=s(u),a.current=!1;else if(f=s(),!f){g();return}y(f)};return l.createElement(L,Object.assign({},G(n),{onClick:p,loading:m,prefixCls:t},o,{ref:b}),r)},Q=Te;function V(e,n){return j.createElement("span",{className:`${e}-close-x`},n||j.createElement(ae,{className:`${e}-close-icon`}))}const X=e=>{const{okText:n,okType:r="primary",cancelText:t,confirmLoading:o,onOk:u,onCancel:x,okButtonProps:d,cancelButtonProps:i}=e,[s]=D("Modal",Y());return j.createElement(j.Fragment,null,j.createElement(L,Object.assign({onClick:x},i),t||(s==null?void 0:s.cancelText)),j.createElement(L,Object.assign({},G(r),{loading:o,onClick:u},d),n||(s==null?void 0:s.okText)))};var je=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let M;const we=e=>{M={x:e.pageX,y:e.pageY},setTimeout(()=>{M=null},100)};ce()&&document.documentElement.addEventListener("click",we,!0);const Ne=e=>{var n;const{getPopupContainer:r,getPrefixCls:t,direction:o}=l.useContext(_),u=$=>{const{onCancel:E}=e;E==null||E($)},x=$=>{const{onOk:E}=e;E==null||E($)},{prefixCls:d,className:i,rootClassName:s,open:a,wrapClassName:b,centered:m,getContainer:c,closeIcon:g,focusTriggerAfterClose:y=!0,visible:p,width:C=520,footer:f}=e,h=je(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width","footer"]),v=t("modal",d),O=t(),[k,F]=U(v),R=N(b,{[`${v}-centered`]:!!m,[`${v}-wrap-rtl`]:o==="rtl"}),A=f===void 0?l.createElement(X,Object.assign({},e,{onOk:x,onCancel:u})):f;return k(l.createElement(ie,null,l.createElement(ue,{status:!0,override:!0},l.createElement(Pe,Object.assign({width:C},h,{getContainer:c===void 0?r:c,prefixCls:v,rootClassName:N(F,s),wrapClassName:R,footer:A,visible:a??p,mousePosition:(n=h.mousePosition)!==null&&n!==void 0?n:M,onClose:u,closeIcon:V(v,g),focusTriggerAfterClose:y,transitionName:S(O,"zoom",e.transitionName),maskTransitionName:S(O,"fade",e.maskTransitionName),className:N(F,i)})))))},q=Ne;function J(e){const{icon:n,onCancel:r,onOk:t,close:o,okText:u,okButtonProps:x,cancelText:d,cancelButtonProps:i,confirmPrefixCls:s,rootPrefixCls:a,type:b,okCancel:m,footer:c,locale:g}=e;let y=n;if(!n&&n!==null)switch(b){case"info":y=l.createElement(ge,null);break;case"success":y=l.createElement(Ce,null);break;case"error":y=l.createElement(me,null);break;default:y=l.createElement(de,null)}const p=e.okType||"primary",C=m??b==="confirm",f=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[h]=D("Modal"),v=g||h,O=C&&l.createElement(Q,{actionFn:r,close:o,autoFocus:f==="cancel",buttonProps:i,prefixCls:`${a}-btn`},d||(v==null?void 0:v.cancelText));return l.createElement("div",{className:`${s}-body-wrapper`},l.createElement("div",{className:`${s}-body`},y,e.title===void 0?null:l.createElement("span",{className:`${s}-title`},e.title),l.createElement("div",{className:`${s}-content`},e.content)),c===void 0?l.createElement("div",{className:`${s}-btns`},O,l.createElement(Q,{type:p,actionFn:t,close:o,autoFocus:f==="ok",buttonProps:x,prefixCls:`${a}-btn`},u||(C?v==null?void 0:v.okText:v==null?void 0:v.justOkText))):c)}const $e=e=>{const{close:n,zIndex:r,afterClose:t,visible:o,open:u,keyboard:x,centered:d,getContainer:i,maskStyle:s,direction:a,prefixCls:b,wrapClassName:m,rootPrefixCls:c,iconPrefixCls:g,theme:y,bodyStyle:p,closable:C=!1,closeIcon:f,modalRender:h,focusTriggerAfterClose:v}=e,O=`${b}-confirm`,k=e.width||416,F=e.style||{},R=e.mask===void 0?!0:e.mask,A=e.maskClosable===void 0?!1:e.maskClosable,$=N(O,`${O}-${e.type}`,{[`${O}-rtl`]:a==="rtl"},e.className);return l.createElement(fe,{prefixCls:c,iconPrefixCls:g,direction:a,theme:y},l.createElement(q,{prefixCls:b,className:$,wrapClassName:N({[`${O}-centered`]:!!e.centered},m),onCancel:()=>n==null?void 0:n({triggerCancel:!0}),open:u,title:"",footer:null,transitionName:S(c,"zoom",e.transitionName),maskTransitionName:S(c,"fade",e.maskTransitionName),mask:R,maskClosable:A,maskStyle:s,style:F,bodyStyle:p,width:k,zIndex:r,afterClose:t,keyboard:x,centered:d,getContainer:i,closable:C,closeIcon:f,modalRender:h,focusTriggerAfterClose:v},l.createElement(J,Object.assign({},e,{confirmPrefixCls:O}))))},K=$e,Ie=[],T=Ie;var Fe=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let Z="";function Se(){return Z}function I(e){const n=document.createDocumentFragment();let r=Object.assign(Object.assign({},e),{close:x,open:!0}),t;function o(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const b=s.some(m=>m&&m.triggerCancel);e.onCancel&&b&&e.onCancel.apply(e,[()=>{}].concat(w(s.slice(1))));for(let m=0;m<T.length;m++)if(T[m]===x){T.splice(m,1);break}be(n)}function u(i){var{okText:s,cancelText:a,prefixCls:b,getContainer:m}=i,c=Fe(i,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(t),t=setTimeout(()=>{const g=Y(),{getPrefixCls:y,getIconPrefixCls:p,getTheme:C}=ve(),f=y(void 0,Se()),h=b||`${f}-modal`,v=p(),O=C();let k=m;k===!1&&(k=void 0),xe(l.createElement(K,Object.assign({},c,{getContainer:k,prefixCls:h,rootPrefixCls:f,iconPrefixCls:v,okText:s,locale:g,theme:O,cancelText:a||g.cancelText})),n)})}function x(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),o.apply(this,s)}}),r.visible&&delete r.visible,u(r)}function d(i){typeof i=="function"?r=i(r):r=Object.assign(Object.assign({},r),i),u(r)}return u(r),T.push(x),{destroy:x,update:d}}function ee(e){return Object.assign(Object.assign({},e),{type:"warning"})}function te(e){return Object.assign(Object.assign({},e),{type:"info"})}function ne(e){return Object.assign(Object.assign({},e),{type:"success"})}function oe(e){return Object.assign(Object.assign({},e),{type:"error"})}function le(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Re(e){let{rootPrefixCls:n}=e;Z=n}const Ae=(e,n)=>{let{afterClose:r,config:t}=e;var o;const[u,x]=l.useState(!0),[d,i]=l.useState(t),{direction:s,getPrefixCls:a}=l.useContext(_),b=a("modal"),m=a(),c=()=>{var C;r(),(C=d.afterClose)===null||C===void 0||C.call(d)},g=function(){x(!1);for(var C=arguments.length,f=new Array(C),h=0;h<C;h++)f[h]=arguments[h];const v=f.some(O=>O&&O.triggerCancel);d.onCancel&&v&&d.onCancel.apply(d,[()=>{}].concat(w(f.slice(1))))};l.useImperativeHandle(n,()=>({destroy:g,update:C=>{i(f=>Object.assign(Object.assign({},f),C))}}));const y=(o=d.okCancel)!==null&&o!==void 0?o:d.type==="confirm",[p]=D("Modal",pe.Modal);return l.createElement(K,Object.assign({prefixCls:b,rootPrefixCls:m},d,{close:g,open:u,afterClose:c,okText:d.okText||(y?p==null?void 0:p.okText:p==null?void 0:p.justOkText),direction:d.direction||s,cancelText:d.cancelText||(p==null?void 0:p.cancelText)}))},Be=l.forwardRef(Ae);let W=0;const Le=l.memo(l.forwardRef((e,n)=>{const[r,t]=Ee();return l.useImperativeHandle(n,()=>({patchElement:t}),[]),l.createElement(l.Fragment,null,r)}));function Me(){const e=l.useRef(null),[n,r]=l.useState([]);l.useEffect(()=>{n.length&&(w(n).forEach(x=>{x()}),r([]))},[n]);const t=l.useCallback(u=>function(d){var i;W+=1;const s=l.createRef();let a;const b=l.createElement(Be,{key:`modal-${W}`,config:u(d),ref:s,afterClose:()=>{a==null||a()}});return a=(i=e.current)===null||i===void 0?void 0:i.patchElement(b),a&&T.push(a),{destroy:()=>{function m(){var c;(c=s.current)===null||c===void 0||c.destroy()}s.current?m():r(c=>[].concat(w(c),[m]))},update:m=>{function c(){var g;(g=s.current)===null||g===void 0||g.update(m)}s.current?c():r(g=>[].concat(w(g),[c]))}}},[]);return[l.useMemo(()=>({info:t(te),success:t(ne),error:t(oe),warning:t(ee),confirm:t(le)}),[]),l.createElement(Le,{key:"modal-holder",ref:e})]}var ze=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const _e=e=>{const{prefixCls:n,className:r,closeIcon:t,closable:o,type:u,title:x,children:d}=e,i=ze(e,["prefixCls","className","closeIcon","closable","type","title","children"]),{getPrefixCls:s}=l.useContext(_),a=s(),b=n||s("modal"),[,m]=U(b),c=`${b}-confirm`;let g={};return u?g={closable:o??!1,title:"",footer:"",children:l.createElement(J,Object.assign({},e,{confirmPrefixCls:c,rootPrefixCls:a,content:d}))}:g={closable:o??!0,title:x,footer:e.footer===void 0?l.createElement(X,Object.assign({},e)):e.footer,children:d},l.createElement(ke,Object.assign({prefixCls:b,className:N(m,`${b}-pure-panel`,u&&c,u&&`${c}-${u}`,r)},i,{closeIcon:V(b,t),closable:o},g))},De=_e;function re(e){return I(ee(e))}const P=q;P.useModal=Me;P.info=function(n){return I(te(n))};P.success=function(n){return I(ne(n))};P.error=function(n){return I(oe(n))};P.warning=re;P.warn=re;P.confirm=function(n){return I(le(n))};P.destroyAll=function(){for(;T.length;){const n=T.pop();n&&n()}};P.config=Re;P._InternalPanelDoNotUseOrYouWillBeFired=De;const Ge=P,z="happijack-loading",Ye=()=>{document.body.removeChild(document.getElementById(z))},Ue=()=>{const e=document.createElement("div");e.setAttribute("id",z),document.body.appendChild(e),ye.createRoot(document.getElementById(z)).render(B.jsxs(Oe,{direction:"horizontal",size:"small",children:[B.jsx(he,{size:"large"}),B.jsx("label",{style:{color:"#1677ff",marginLeft:10},children:"loading..."})]}))};export{Ge as M,Ye as c,Ue as s};
